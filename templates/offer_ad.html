{% extends "base.html" %}

{% block title %}Новое объявление — {{ pavilion.title }}{% endblock %}

{% block content %}
<a href="{{ url_for('pavilion_page', pavilion_id=pavilion.id) }}" class="auth-back">
    ← Вернуться в павильон
</a>

<style>
    .auth-back {
        display: inline-block;
        margin: 20px 0 10px 20px;
        font-size: 15px;
        color: #555;
        text-decoration: none;
        font-weight: 500;
        transition: .2s;
    }
    .auth-back:hover {
        color: #000;
        transform: translateX(-3px);
    }
    .offer-wrapper {
        min-height: calc(100vh - 140px);
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 30px 20px 50px;
        background: radial-gradient(circle at 0 0, #ffe0ff 0, transparent 55%),
                    radial-gradient(circle at 100% 100%, #e0f3ff 0, transparent 55%);
    }
    .offer-card {
        background: #fff;
        border-radius: 24px;
        padding: 26px 24px 22px;
        max-width: 640px;
        width: 100%;
        box-shadow: 0 18px 40px rgba(15,23,42,0.08);
    }
    .offer-title {
        font-size: 22px;
        font-weight: 800;
        margin-bottom: 6px;
    }
    .offer-subtitle {
        font-size: 14px;
        color: #555;
        margin-bottom: 16px;
    }
    .offer-form {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    .offer-input,
    .offer-textarea {
        width: 100%;
        border-radius: 14px;
        border: 1px solid #ddd;
        padding: 10px 12px;
        font-size: 14px;
        outline: none;
        transition: border-color .2s, box-shadow .2s, background .2s;
        background: rgba(255,255,255,0.95);
        resize: vertical;
    }
    .offer-textarea {
        min-height: 120px;
    }
    .offer-input:focus,
    .offer-textarea:focus {
        border-color: #ff4fd8;
        box-shadow: 0 0 0 2px rgba(255,79,216,0.16);
        background: #fff;
    }
    .offer-errors {
        margin-bottom: 8px;
        color: #b91c1c;
        font-size: 13px;
    }
</style>

<div class="offer-wrapper">
    <div class="offer-card">
        <h1 class="offer-title">Предложить объявление</h1>
        <p class="offer-subtitle">
            Павильон: <b>{{ pavilion.title }}</b> на улице «{{ pavilion.street.name }}».
            Опиши, чем ты можешь помочь — администратор проверит заявку и опубликует объявление.
        </p>

        {% if errors %}
        <div class="offer-errors">
            {% for e in errors %}
                • {{ e }}<br>
            {% endfor %}
        </div>
        {% endif %}

        <form method="POST" class="offer-form">
            <input class="offer-input"
                   type="text"
                   name="title"
                   placeholder="Заголовок объявления"
                   value="{{ form.title }}"
                   required>

            <textarea class="offer-textarea"
                      name="text"
                      placeholder="Опиши, что ты делаешь, в чём помогаешь, формат работы, сроки..."
                      required>{{ form.text }}</textarea>

            <button type="submit" class="btn btn-primary auth-btn">
                Отправить заявку
            </button>
        </form>
    </div>
</div>
{% endblock %}
